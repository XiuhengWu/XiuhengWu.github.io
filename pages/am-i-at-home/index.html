<!doctype html>
<html lang="zh">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Bin ich zu Hause?</title>
  <style>
    :root{
      --bg:#0f1724;
      --card:#0b1220;
      --accent:#60a5fa;
      --muted:#94a3b8;
      --glass: rgba(255,255,255,0.03);
    }
    html,body{
      height:100%;
      margin:0;
      font-family: "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans SC", sans-serif;
      background: linear-gradient(180deg,#071028 0%, #0b1220 60%);
      color:#e6eef8;
    }
    .centered{
      height:100%;
      display:flex;
      align-items:center;
      justify-content:center;
      padding:20px;
      box-sizing:border-box;
    }
    .card{
      width:100%;
      max-width:720px;
      background:linear-gradient(180deg,var(--card), rgba(11,18,32,0.9));
      border-radius:12px;
      padding:28px;
      box-shadow: 0 10px 30px rgba(2,6,23,0.7);
      border: 1px solid rgba(255,255,255,0.03);
    }
    h1{ margin:0 0 6px 0; font-size:28px; }
    p.subtitle{ margin:0 0 18px 0; color:var(--muted); font-size:14px; }

    .big-text{
      font-size:48px;
      font-weight:700;
      color:var(--accent);
      margin:8px 0 22px 0;
      line-height:1;
    }
    .time-row{ display:flex; gap:16px; flex-wrap:wrap; }
    .time-block{
      background:var(--glass);
      padding:12px 16px;
      border-radius:10px;
      border:1px solid rgba(255,255,255,0.02);
      min-width:200px;
    }
    .time-label{ font-size:13px; color:var(--muted); margin:0 0 6px 0; }
    .time-value{ font-family: "Roboto Mono", monospace; font-size:20px; color:#eaf2ff; }
    footer{ margin-top:22px; color:var(--muted); font-size:13px; }

    /* Passwort-Seite */
    #login-screen input{
      padding:10px;
      font-size:16px;
      border-radius:6px;
      border:1px solid #334155;
      background:#1e293b;
      color:#e2e8f0;
      margin-right:10px;
    }
    #login-screen button{
      padding:10px 16px;
      font-size:16px;
      border:none;
      border-radius:6px;
      background:var(--accent);
      color:#fff;
      cursor:pointer;
    }
    #login-screen p{ color:#f87171; margin-top:12px; display:none; }
    @media (max-width:520px){
      .big-text{ font-size:36px; }
      .time-block{ min-width:unset; width:100%; }
    }
  </style>
</head>
<body>
  <!-- Passwort-Schutz Screen -->
  <div id="login-screen" class="centered">
    <div class="card" style="text-align:center;">
      <h1>🔒 密码保护</h1>
      <p class="subtitle">请输入密码以访问页面</p>
      <input type="password" id="password" placeholder="密码" />
      <button onclick="checkPassword()">进入</button>
      <p id="error-msg">❌ 密码错误</p>
    </div>
  </div>

  <!-- Hauptseite (versteckt bis Passwort korrekt) -->
  <div id="main-content" class="centered" style="display:none;">
    <main class="card" role="main" aria-labelledby="main-title">
      <header>
        <h1 id="main-title">Bin ich zu Hause?</h1>
      </header>
      <div class="big-text" id="status">zu Hause</div>

      <section class="time-row">
        <div class="time-block">
          <div class="time-label">维也纳本地时间:</div>
          <div id="vienna-time" class="time-value">--:--:--</div>
        </div>
        <div class="time-block">
          <div class="time-label">维也纳日期:</div>
          <div id="vienna-date" class="time-value">---- / -- / --</div>
        </div>
      </section>

      <footer>
        最后更新（页面加载时）：<strong id="last-updated">正在加载…</strong>
      </footer>
    </main>
  </div>

  <script>
    const CORRECT_PASSWORD = "binichzuhause"; // 👈 Hier Passwort ändern

    function checkPassword(){
      const pw = document.getElementById("password").value;
      const error = document.getElementById("error-msg");
      if(pw === CORRECT_PASSWORD){
        document.getElementById("login-screen").style.display="none";
        document.getElementById("main-content").style.display="flex";
        initClock();
      } else {
        error.style.display="block";
      }
    }

    function initClock(){
      const viennaTimeEl  = document.getElementById('vienna-time');
      const viennaDateEl  = document.getElementById('vienna-date');
      const lastUpdatedEl = document.getElementById('last-updated');

      const timeFmt = new Intl.DateTimeFormat('zh-CN',{
        timeZone:'Europe/Vienna',
        hour:'2-digit',minute:'2-digit',second:'2-digit',hour12:false
      });
      const dateFmt = new Intl.DateTimeFormat('zh-CN',{
        timeZone:'Europe/Vienna',year:'numeric',month:'2-digit',day:'2-digit'
      });
      const lastFmt = new Intl.DateTimeFormat('zh-CN',{
        timeZone:'Europe/Vienna',year:'numeric',month:'2-digit',day:'2-digit',
        hour:'2-digit',minute:'2-digit',second:'2-digit',hour12:false
      });

      function tick(){
        const now = new Date();
        viennaTimeEl.textContent = timeFmt.format(now);
        viennaDateEl.textContent = dateFmt.format(now);
      }
      tick();
      setInterval(tick,1000);
    }
  </script>
</body>
</html>
