<html>
	<head>
		<meta charset="UTF-8">
		<title>Online Text Editor</title>
		<h1 style="text-align: center;" id="status">HTML5 Text Editor</h1>
	</head>
	<body style="font-family: Arial, Helvetica, sans-serif;">
		<div style="width: 95%;height: auto;">
			<h2><i>!Remember to save the content before leaving!</i></h2>
		</div>
		<div style="width: 100%; height: 60px;">
			<select style="width: 30%;height: 90%;font-size: 45px;" id="select" onchange="Load()">
				<option value="doc1">doc1</option>
				<option value="doc2">doc2</option>
				<option value="doc3">doc3</option>
				<option value="doc4">doc4</option>
				<option value="doc5">doc5</option>
				<option value="doc6">doc6</option>
				<option value="doc7">doc7</option>
			</select>
			<button style="width: 40%;height: 90%;font-size: 45px;" onclick="Download()">DOWNLOAD</button>
			<button style="width: 25%;height: 90%;font-size: 45px;" onclick="Save()">SAVE</button>
		</div>
		<div id="textarea" style="font-size:20px;width: 95%; height: 600px;overflow: scroll;white-space: normal;background-color: rgb(196, 196, 196);word-break: break-all;padding:20px" contenteditable="true"></div>
	</body>
	<script>
		const text_area = document.getElementById("textarea");
		const select = document.getElementById("select");

		function Save() {
			localStorage.setItem(select.value, textarea.innerText);
			location.href = "index.html";
		}

		function Load() {
			value = select.value;
			text_area.innerText = "";
			if (localStorage.getItem(value)) {
				textarea.innerText = localStorage.getItem(value);
			}
		}

		function Download() {
			const url = window.URL || window.webkitURL || window;
			const blob = new Blob([text_area.innerText]);
			const saveLink = document.createElementNS('http://www.w3.org/1999/xhtml', 'a');
			saveLink.href = url.createObjectURL(blob);
			saveLink.download = select.value + ".txt";
			saveLink.click();
		}

		Load();
	</script>
</html>
